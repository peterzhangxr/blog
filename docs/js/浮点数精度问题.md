# 浮点数精度问题
> 为什么0.1+0.2会等于0.30000000000000004，而不是0.3

## 浮点数的存储
和其它语言如Java和Python不同，JavaScript中所有数字包括整数和小数都只有一种类型 — Number。它的实现遵循 IEEE 754 标准，使用64位固定长度来表示，也就是标准的 double 双精度浮点数（相关的还有float 32位单精度）。

这样的存储结构优点是可以归一化处理整数和小数，节省存储空间。

4位比特又可分为三个部分：
* 符号位S：第 1 位是正负数符号位（sign），0代表正数，1代表负数
* 指数位E：中间的 11 位存储指数（exponent），用来表示次方数
* 尾数位M：最后的 52 位是尾数（mantissa），超出的部分自动进一舍零

**精度损失可能出现在进制转化和对阶运算过程中**

## 解决方法
* 可以将浮点数toString后indexOf('.')，记录一下小数位的长度，然后将小数点抹掉
* 三方库 math.js bignumber.js